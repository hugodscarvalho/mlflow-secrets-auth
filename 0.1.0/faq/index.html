
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for MLflow Secrets Auth">
      
      
      
        <link rel="canonical" href="https://hugodscarvalho.github.io/mlflow-secrets-auth/0.1.0/faq/">
      
      
        <link rel="prev" href="../troubleshooting/">
      
      
        <link rel="next" href="../reference/mlflow_secrets_auth/__init__/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>FAQ - MLflow Secrets Auth</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Geist:300,300i,400,400i,700,700i%7CGeist+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Geist";--md-code-font:"Geist Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#FAFAFA" data-md-color-accent="#BCAAA4">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#faq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MLflow Secrets Auth" class="md-header__button md-logo" aria-label="MLflow Secrets Auth" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MLflow Secrets Auth
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FAQ
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="#FAFAFA" data-md-color-accent="#BCAAA4"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="#333333" data-md-color-accent="#D7CCC8"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hugodscarvalho/mlflow-secrets-auth" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hugodscarvalho/mlflow-secrets-auth
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../configuration/" class="md-tabs__link">
          
  
  
    
  
  Configuration

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../concepts/architecture/" class="md-tabs__link">
          
  
  
    
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../providers/vault/" class="md-tabs__link">
          
  
  
    
  
  Providers

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../troubleshooting/" class="md-tabs__link">
          
  
  
    
  
  Help

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../reference/mlflow_secrets_auth/__init__/" class="md-tabs__link">
          
  
  
    
  
  Code Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../changelog/" class="md-tabs__link">
        
  
  
    
  
  Release Notes

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MLflow Secrets Auth" class="md-nav__button md-logo" aria-label="MLflow Secrets Auth" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MLflow Secrets Auth
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hugodscarvalho/mlflow-secrets-auth" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hugodscarvalho/mlflow-secrets-auth
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href=".." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../configuration/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../concepts/architecture/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../providers/vault/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Providers
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Help
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Help
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-questions" class="md-nav__link">
    <span class="md-ellipsis">
      General Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-modes" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Modes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-allowlisting" class="md-nav__link">
    <span class="md-ellipsis">
      Host Allowlisting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#binary-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Secrets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#caching-and-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Caching and Performance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-and-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Migration and Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Compatibility
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../reference/mlflow_secrets_auth/base/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Code Reference
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/hugodscarvalho/mlflow-secrets-auth/edit/master/docs/faq.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/hugodscarvalho/mlflow-secrets-auth/raw/master/docs/faq.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h1>
<p>Frequently asked questions about MLflow Secrets Auth, covering common use cases, configuration scenarios, and implementation details.</p>
<h2 id="general-questions">General Questions<a class="headerlink" href="#general-questions" title="Permanent link">&para;</a></h2>
<h3 id="what-is-mlflow-secrets-auth">What is MLflow Secrets Auth?<a class="headerlink" href="#what-is-mlflow-secrets-auth" title="Permanent link">&para;</a></h3>
<p>MLflow Secrets Auth is a plugin for MLflow that automatically injects authentication headers from secret management systems (Vault, AWS Secrets Manager, Azure Key Vault) into tracking requests. It provides secure, transparent authentication without requiring code changes in MLflow applications.</p>
<h3 id="which-secret-managers-are-supported">Which secret managers are supported?<a class="headerlink" href="#which-secret-managers-are-supported" title="Permanent link">&para;</a></h3>
<p>Currently supported providers:
- <strong>HashiCorp Vault</strong> - KV v1 and KV v2 engines
- <strong>AWS Secrets Manager</strong> - SecretString and SecretBinary support
- <strong>Azure Key Vault</strong> - Native Azure AD integration</p>
<h3 id="does-this-require-changes-to-my-mlflow-code">Does this require changes to my MLflow code?<a class="headerlink" href="#does-this-require-changes-to-my-mlflow-code" title="Permanent link">&para;</a></h3>
<p>No. The plugin integrates transparently with MLflow's authentication system. Your existing MLflow code continues to work unchanged:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">mlflow</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># No changes needed - authentication happens automatically</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="s2">&quot;https://mlflow.company.com&quot;</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">mlflow</span><span class="o">.</span><span class="n">start_run</span><span class="p">()</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">mlflow</span><span class="o">.</span><span class="n">log_metric</span><span class="p">(</span><span class="s2">&quot;accuracy&quot;</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">)</span>
</code></pre></div>
<h3 id="how-does-the-plugin-select-which-provider-to-use">How does the plugin select which provider to use?<a class="headerlink" href="#how-does-the-plugin-select-which-provider-to-use" title="Permanent link">&para;</a></h3>
<p>The plugin uses a priority-based selection:
1. <strong>HashiCorp Vault</strong> (first priority)
2. <strong>AWS Secrets Manager</strong> (second priority)<br />
3. <strong>Azure Key Vault</strong> (third priority)</p>
<p>The first enabled and properly configured provider is used. Enable providers using:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_AUTH_ENABLE</span><span class="o">=</span><span class="s2">&quot;vault,aws-secrets-manager,azure-key-vault&quot;</span>
</code></pre></div></p>
<h2 id="authentication-modes">Authentication Modes<a class="headerlink" href="#authentication-modes" title="Permanent link">&para;</a></h2>
<h3 id="what-authentication-modes-are-supported">What authentication modes are supported?<a class="headerlink" href="#what-authentication-modes-are-supported" title="Permanent link">&para;</a></h3>
<p>Two authentication modes are supported:</p>
<p><strong>Bearer Token</strong> (default):
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Authorization: Bearer &lt;token&gt;
</code></pre></div></p>
<p><strong>Basic Authentication</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Authorization: Basic &lt;base64(username:password)&gt;
</code></pre></div></p>
<p>Configure the mode per provider:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_AUTH_MODE</span><span class="o">=</span><span class="s2">&quot;bearer&quot;</span><span class="w">      </span><span class="c1"># or &quot;basic&quot;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AWS_AUTH_MODE</span><span class="o">=</span><span class="s2">&quot;bearer&quot;</span><span class="w">        </span><span class="c1"># or &quot;basic&quot;  </span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AZURE_AUTH_MODE</span><span class="o">=</span><span class="s2">&quot;bearer&quot;</span><span class="w">      </span><span class="c1"># or &quot;basic&quot;</span>
</code></pre></div></p>
<h3 id="can-i-use-custom-headers-instead-of-authorization">Can I use custom headers instead of "Authorization"?<a class="headerlink" href="#can-i-use-custom-headers-instead-of-authorization" title="Permanent link">&para;</a></h3>
<p>Yes, configure a custom header name:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AUTH_HEADER_NAME</span><span class="o">=</span><span class="s2">&quot;X-MLflow-Auth&quot;</span>
</code></pre></div></p>
<p>This changes the header from:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Authorization: Bearer &lt;token&gt;
</code></pre></div>
to:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>X-MLflow-Auth: Bearer &lt;token&gt;
</code></pre></div></p>
<h3 id="how-do-i-handle-token-rotation">How do I handle token rotation?<a class="headerlink" href="#how-do-i-handle-token-rotation" title="Permanent link">&para;</a></h3>
<p>The plugin supports automatic token rotation through several mechanisms:</p>
<ol>
<li>
<p><strong>Cache TTL</strong>: Configure short TTL for frequent rotation
   <div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_TTL_SEC</span><span class="o">=</span><span class="m">300</span><span class="w">  </span><span class="c1"># 5 minutes</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Automatic Cache Busting</strong>: Authentication failures (401/403) automatically clear cache</p>
</li>
<li>
<p><strong>Version Support</strong>: AWS and Azure support specific secret versions
   <div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AWS_SECRET_VERSION</span><span class="o">=</span><span class="s2">&quot;AWSCURRENT&quot;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AZURE_SECRET_VERSION</span><span class="o">=</span><span class="s2">&quot;latest&quot;</span>
</code></pre></div></p>
</li>
</ol>
<h2 id="host-allowlisting">Host Allowlisting<a class="headerlink" href="#host-allowlisting" title="Permanent link">&para;</a></h2>
<h3 id="what-is-host-allowlisting-and-why-should-i-use-it">What is host allowlisting and why should I use it?<a class="headerlink" href="#what-is-host-allowlisting-and-why-should-i-use-it" title="Permanent link">&para;</a></h3>
<p>Host allowlisting prevents credentials from being sent to unauthorized servers. It's a critical security feature that ensures secrets only reach intended MLflow servers.</p>
<p><strong>Without allowlisting</strong>: Credentials could be sent to any server
<strong>With allowlisting</strong>: Credentials only sent to approved hosts</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;mlflow.company.com,*.staging.company.com&quot;</span>
</code></pre></div>
<h3 id="how-do-wildcard-patterns-work">How do wildcard patterns work?<a class="headerlink" href="#how-do-wildcard-patterns-work" title="Permanent link">&para;</a></h3>
<p>The plugin uses shell-style globbing patterns:</p>
<ul>
<li><code>*.company.com</code> - Matches any subdomain of company.com</li>
<li><code>mlflow-*</code> - Matches hostnames starting with "mlflow-"</li>
<li><code>api.*.com</code> - Matches api with any middle component</li>
</ul>
<p>Examples:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Specific hosts</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;mlflow.prod.com,mlflow.staging.com&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># Subdomain wildcards</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;*.company.com&quot;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1"># Multiple patterns</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;mlflow.prod.com,*.staging.com,localhost&quot;</span>
</code></pre></div></p>
<h3 id="what-happens-if-i-dont-configure-host-allowlisting">What happens if I don't configure host allowlisting?<a class="headerlink" href="#what-happens-if-i-dont-configure-host-allowlisting" title="Permanent link">&para;</a></h3>
<p>If <code>MLFLOW_SECRETS_ALLOWED_HOSTS</code> is not set, the plugin allows all hosts by default. This is convenient for development but <strong>not recommended for production</strong>.</p>
<p><strong>Development</strong> (permissive):
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># No restrictions - allows all hosts</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nb">unset</span><span class="w"> </span>MLFLOW_SECRETS_ALLOWED_HOSTS
</code></pre></div></p>
<p><strong>Production</strong> (secure):
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Restrict to specific hosts</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;mlflow.company.com&quot;</span>
</code></pre></div></p>
<h3 id="can-i-use-localhost-for-development">Can I use localhost for development?<a class="headerlink" href="#can-i-use-localhost-for-development" title="Permanent link">&para;</a></h3>
<p>Yes, include localhost and common development patterns:
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;localhost,127.0.0.1,*.local,mlflow.company.com&quot;</span>
</code></pre></div></p>
<h2 id="binary-secrets">Binary Secrets<a class="headerlink" href="#binary-secrets" title="Permanent link">&para;</a></h2>
<h3 id="does-the-plugin-support-binary-secrets">Does the plugin support binary secrets?<a class="headerlink" href="#does-the-plugin-support-binary-secrets" title="Permanent link">&para;</a></h3>
<p>Yes, particularly with AWS Secrets Manager:</p>
<p><strong>AWS Secrets Manager</strong>:
- <strong>SecretString</strong>: Standard JSON secrets (preferred)
- <strong>SecretBinary</strong>: Binary data automatically base64 encoded/decoded</p>
<p><strong>Vault</strong>: Supports binary data as base64-encoded strings in JSON</p>
<p><strong>Azure Key Vault</strong>: Supports binary data as base64-encoded strings</p>
<h3 id="how-are-binary-secrets-handled">How are binary secrets handled?<a class="headerlink" href="#how-are-binary-secrets-handled" title="Permanent link">&para;</a></h3>
<p>Binary secrets are automatically converted to base64 strings for transport and parsed back to the appropriate format:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Internal handling (automatic)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1"># Binary secret from AWS</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">binary_data</span> <span class="o">=</span> <span class="n">secret_response</span><span class="p">[</span><span class="s1">&#39;SecretBinary&#39;</span><span class="p">]</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">token</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">binary_data</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="c1"># Use in authentication header</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="n">auth_header</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="n">token</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="what-formats-work-for-binary-tokens">What formats work for binary tokens?<a class="headerlink" href="#what-formats-work-for-binary-tokens" title="Permanent link">&para;</a></h3>
<p>Common binary token formats that work:</p>
<ol>
<li><strong>JWT tokens</strong> (binary-encoded)</li>
<li><strong>Custom binary tokens</strong></li>
<li><strong>Encrypted token data</strong></li>
<li><strong>Certificate-based tokens</strong></li>
</ol>
<p>Store as binary in the secret manager, and the plugin handles encoding automatically.</p>
<h2 id="caching-and-performance">Caching and Performance<a class="headerlink" href="#caching-and-performance" title="Permanent link">&para;</a></h2>
<h3 id="how-does-caching-work">How does caching work?<a class="headerlink" href="#how-does-caching-work" title="Permanent link">&para;</a></h3>
<p>The plugin implements in-memory caching with configurable TTL:</p>
<ol>
<li><strong>First Request</strong>: Fetch secret from provider, cache result</li>
<li><strong>Subsequent Requests</strong>: Return cached secret if not expired</li>
<li><strong>Cache Expiry</strong>: Re-fetch secret after TTL expires</li>
<li><strong>Auth Failures</strong>: Automatically clear cache on 401/403 responses</li>
</ol>
<h3 id="how-do-i-configure-cache-ttl">How do I configure cache TTL?<a class="headerlink" href="#how-do-i-configure-cache-ttl" title="Permanent link">&para;</a></h3>
<p>Set TTL per provider (in seconds):
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_TTL_SEC</span><span class="o">=</span><span class="m">300</span><span class="w">      </span><span class="c1"># 5 minutes</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AWS_TTL_SEC</span><span class="o">=</span><span class="m">600</span><span class="w">        </span><span class="c1"># 10 minutes</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_AZURE_TTL_SEC</span><span class="o">=</span><span class="m">900</span><span class="w">      </span><span class="c1"># 15 minutes</span>
</code></pre></div></p>
<p><strong>Considerations</strong>:
- <strong>Short TTL</strong>: Better security, more API calls
- <strong>Long TTL</strong>: Better performance, less responsive to changes
- <strong>Production</strong>: 15-30 minutes typical
- <strong>Development</strong>: 1-5 minutes for rapid iteration</p>
<h3 id="what-happens-when-secrets-change">What happens when secrets change?<a class="headerlink" href="#what-happens-when-secrets-change" title="Permanent link">&para;</a></h3>
<p>When secrets are updated in the secret manager:</p>
<ol>
<li><strong>Cached Entries</strong>: Continue using old secret until TTL expires</li>
<li><strong>Authentication Failures</strong>: Automatically trigger cache refresh</li>
<li><strong>Manual Refresh</strong>: Restart application to clear cache immediately</li>
</ol>
<p><strong>Future Enhancement</strong>: CLI command to manually clear cache:
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Future feature</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>mlflow-secrets-auth<span class="w"> </span>cache<span class="w"> </span>clear
</code></pre></div></p>
<h3 id="how-can-i-optimize-performance">How can I optimize performance?<a class="headerlink" href="#how-can-i-optimize-performance" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Appropriate TTL</strong>: Balance security and performance
   <div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_TTL_SEC</span><span class="o">=</span><span class="m">1800</span><span class="w">  </span><span class="c1"># 30 minutes for high-frequency access</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Regional Proximity</strong>: Use secret managers in the same region</p>
</li>
<li><strong>Connection Reuse</strong>: Plugin automatically reuses connections</li>
<li><strong>Monitor Cache Hit Rate</strong>: Check with <code>mlflow-secrets-auth info</code></li>
</ol>
<h2 id="security">Security<a class="headerlink" href="#security" title="Permanent link">&para;</a></h2>
<h3 id="is-it-safe-to-use-in-production">Is it safe to use in production?<a class="headerlink" href="#is-it-safe-to-use-in-production" title="Permanent link">&para;</a></h3>
<p>Yes, the plugin is designed with production security in mind:</p>
<ol>
<li><strong>Host Allowlisting</strong>: Prevents credential leakage</li>
<li><strong>Credential Redaction</strong>: Automatic masking in logs</li>
<li><strong>In-Memory Only</strong>: No disk persistence of secrets</li>
<li><strong>TLS Enforcement</strong>: All communications use HTTPS</li>
<li><strong>Principle of Least Privilege</strong>: Minimal required permissions</li>
</ol>
<h3 id="how-are-secrets-protected-in-logs">How are secrets protected in logs?<a class="headerlink" href="#how-are-secrets-protected-in-logs" title="Permanent link">&para;</a></h3>
<p>All sensitive data is automatically redacted:</p>
<p><strong>Before Redaction</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>Secret: {&quot;token&quot;: &quot;abc123def456&quot;, &quot;password&quot;: &quot;secret123&quot;}
</code></pre></div></p>
<p><strong>After Redaction</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>Authorization: Bearer eyJh********cCI6
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>Secret: {&quot;token&quot;: &quot;abc1********def4&quot;, &quot;password&quot;: &quot;secr********123&quot;}
</code></pre></div></p>
<h3 id="what-permissions-are-needed">What permissions are needed?<a class="headerlink" href="#what-permissions-are-needed" title="Permanent link">&para;</a></h3>
<p><strong>Vault</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="err">path</span><span class="w"> </span><span class="s2">&quot;secret/data/mlflow/*&quot;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">  </span><span class="na">capabilities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;read&quot;</span><span class="p">]</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="p">}</span>
</code></pre></div></p>
<p><strong>AWS</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;secretsmanager:GetSecretValue&quot;</span><span class="p">],</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arn:aws:secretsmanager:region:account:secret:mlflow/*&quot;</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="p">}</span>
</code></pre></div></p>
<p><strong>Azure</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Key Vault Secrets User role</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>az<span class="w"> </span>role<span class="w"> </span>assignment<span class="w"> </span>create<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">  </span>--role<span class="w"> </span><span class="s2">&quot;Key Vault Secrets User&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span>--assignee<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$AZURE_CLIENT_ID</span><span class="s2">&quot;</span>
</code></pre></div></p>
<h3 id="how-do-i-handle-credential-rotation">How do I handle credential rotation?<a class="headerlink" href="#how-do-i-handle-credential-rotation" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Automatic Detection</strong>: Plugin detects authentication failures and refreshes cache</li>
<li><strong>Short TTL</strong>: Use shorter cache TTL for more frequent rotation</li>
<li><strong>Staged Rotation</strong>: Update secrets during low-traffic periods</li>
<li><strong>Monitoring</strong>: Monitor authentication failure rates</li>
</ol>
<h2 id="deployment">Deployment<a class="headerlink" href="#deployment" title="Permanent link">&para;</a></h2>
<h3 id="how-do-i-deploy-in-docker">How do I deploy in Docker?<a class="headerlink" href="#how-do-i-deploy-in-docker" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.11-slim</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c"># Install with provider support</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>mlflow-secrets-auth<span class="o">[</span>vault,aws,azure<span class="o">]</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="c"># Copy application</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="k">COPY</span><span class="w"> </span>.<span class="w"> </span>/app
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="c"># Environment variables provided at runtime</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="k">ENV</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_AUTH_ENABLE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="k">ENV</span><span class="w"> </span><span class="nv">VAULT_ADDR</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="k">ENV</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_SECRET_PATH</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;app.py&quot;</span><span class="p">]</span>
</code></pre></div>
<p><strong>Runtime Configuration</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-e<span class="w"> </span><span class="nv">VAULT_ADDR</span><span class="o">=</span><span class="s2">&quot;https://vault.company.com&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">           </span>-e<span class="w"> </span><span class="nv">VAULT_TOKEN</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$VAULT_TOKEN</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">           </span>-e<span class="w"> </span><span class="nv">MLFLOW_VAULT_SECRET_PATH</span><span class="o">=</span><span class="s2">&quot;secret/mlflow/auth&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">           </span>-e<span class="w"> </span><span class="nv">MLFLOW_SECRETS_AUTH_ENABLE</span><span class="o">=</span><span class="s2">&quot;vault&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">           </span>mlflow-app
</code></pre></div></p>
<h3 id="how-do-i-deploy-in-kubernetes">How do I deploy in Kubernetes?<a class="headerlink" href="#how-do-i-deploy-in-kubernetes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mlflow-app</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mlflow-app</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mlflow-app:latest</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">        </span><span class="nt">env</span><span class="p">:</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VAULT_ADDR</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://vault.company.com&quot;</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">VAULT_TOKEN</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">          </span><span class="nt">valueFrom</span><span class="p">:</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">            </span><span class="nt">secretKeyRef</span><span class="p">:</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vault-auth</span>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="w">              </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">token</span>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MLFLOW_VAULT_SECRET_PATH</span>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;secret/mlflow/auth&quot;</span>
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MLFLOW_SECRETS_AUTH_ENABLE</span>
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;vault&quot;</span>
</code></pre></div>
<h3 id="how-do-i-handle-multiple-environments">How do I handle multiple environments?<a class="headerlink" href="#how-do-i-handle-multiple-environments" title="Permanent link">&para;</a></h3>
<p>Use environment-specific configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ENVIRONMENT</span><span class="s2">&quot;</span><span class="w"> </span><span class="k">in</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">  </span>development<span class="o">)</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">VAULT_ADDR</span><span class="o">=</span><span class="s2">&quot;http://localhost:8200&quot;</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_SECRET_PATH</span><span class="o">=</span><span class="s2">&quot;secret/dev/mlflow&quot;</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;localhost,*.local&quot;</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">  </span>staging<span class="o">)</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">VAULT_ADDR</span><span class="o">=</span><span class="s2">&quot;https://vault-staging.company.com&quot;</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_SECRET_PATH</span><span class="o">=</span><span class="s2">&quot;secret/staging/mlflow&quot;</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;*.staging.company.com&quot;</span>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">  </span>production<span class="o">)</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">VAULT_ADDR</span><span class="o">=</span><span class="s2">&quot;https://vault.company.com&quot;</span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_SECRET_PATH</span><span class="o">=</span><span class="s2">&quot;secret/prod/mlflow&quot;</span>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_ALLOWED_HOSTS</span><span class="o">=</span><span class="s2">&quot;mlflow.company.com&quot;</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">    </span><span class="p">;;</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="k">esac</span>
</code></pre></div>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="how-do-i-debug-authentication-issues">How do I debug authentication issues?<a class="headerlink" href="#how-do-i-debug-authentication-issues" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Enable Debug Logging</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_LOG_LEVEL</span><span class="o">=</span>DEBUG
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>mlflow-secrets-auth<span class="w"> </span>doctor
</code></pre></div></p>
</li>
<li>
<p><strong>Test Each Component</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># Test plugin status</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>mlflow-secrets-auth<span class="w"> </span>info
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="c1"># Test provider connectivity</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>mlflow-secrets-auth<span class="w"> </span>doctor
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="c1"># Test against MLflow server</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>mlflow-secrets-auth<span class="w"> </span>doctor<span class="w"> </span>--dry-run<span class="w"> </span>https://mlflow.company.com
</code></pre></div></p>
</li>
<li>
<p><strong>Check Provider Access</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># Vault</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>vault<span class="w"> </span>kv<span class="w"> </span>get<span class="w"> </span>secret/mlflow/auth
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="c1"># AWS</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>get-secret-value<span class="w"> </span>--secret-id<span class="w"> </span>mlflow/auth
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="c1"># Azure</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>az<span class="w"> </span>keyvault<span class="w"> </span>secret<span class="w"> </span>show<span class="w"> </span>--vault-name<span class="w"> </span>vault<span class="w"> </span>--name<span class="w"> </span>mlflow-auth
</code></pre></div></p>
</li>
</ol>
<h3 id="why-isnt-my-secret-being-found">Why isn't my secret being found?<a class="headerlink" href="#why-isnt-my-secret-being-found" title="Permanent link">&para;</a></h3>
<p>Common causes:</p>
<ol>
<li><strong>Wrong Path/Name</strong>: Verify exact path or name</li>
<li><strong>Permissions</strong>: Ensure read access to the secret</li>
<li><strong>Case Sensitivity</strong>: Secret names are case-sensitive</li>
<li><strong>Provider Selection</strong>: Verify correct provider is enabled and selected</li>
</ol>
<p>Debug with:
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># List available secrets</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>vault<span class="w"> </span>kv<span class="w"> </span>list<span class="w"> </span>secret/<span class="w">                              </span><span class="c1"># Vault</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>aws<span class="w"> </span>secretsmanager<span class="w"> </span>list-secrets<span class="w">                    </span><span class="c1"># AWS</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>az<span class="w"> </span>keyvault<span class="w"> </span>secret<span class="w"> </span>list<span class="w"> </span>--vault-name<span class="w"> </span>vault-name<span class="w">    </span><span class="c1"># Azure</span>
</code></pre></div></p>
<h3 id="why-is-authentication-slow">Why is authentication slow?<a class="headerlink" href="#why-is-authentication-slow" title="Permanent link">&para;</a></h3>
<p>Performance factors:</p>
<ol>
<li><strong>Network Latency</strong>: Distance to secret manager</li>
<li><strong>Cache Miss</strong>: First request or expired cache</li>
<li><strong>Provider Performance</strong>: Secret manager response time</li>
</ol>
<p>Optimize with:
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1"># Increase cache TTL</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_TTL_SEC</span><span class="o">=</span><span class="m">1800</span><span class="w">  </span><span class="c1"># 30 minutes</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="c1"># Use regional endpoints</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_REGION</span><span class="o">=</span><span class="s2">&quot;us-east-1&quot;</span><span class="w">  </span><span class="c1"># Same region as application</span>
</code></pre></div></p>
<h3 id="how-do-i-verify-the-plugin-is-working">How do I verify the plugin is working?<a class="headerlink" href="#how-do-i-verify-the-plugin-is-working" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Check Plugin Status</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>mlflow-secrets-auth<span class="w"> </span>info
</code></pre></div></p>
</li>
<li>
<p><strong>Monitor Network Traffic</strong>: Should see HTTPS requests to secret managers</p>
</li>
<li>
<p><strong>Check MLflow Logs</strong>: Should see authentication headers being added</p>
</li>
<li>
<p><strong>Test with Debug Mode</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nv">MLFLOW_SECRETS_LOG_LEVEL</span><span class="o">=</span>DEBUG<span class="w"> </span>python<span class="w"> </span>your_mlflow_script.py
</code></pre></div></p>
</li>
</ol>
<h2 id="migration-and-integration">Migration and Integration<a class="headerlink" href="#migration-and-integration" title="Permanent link">&para;</a></h2>
<h3 id="how-do-i-migrate-from-hardcoded-credentials">How do I migrate from hardcoded credentials?<a class="headerlink" href="#how-do-i-migrate-from-hardcoded-credentials" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Store Credentials in Secret Manager</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1"># Move from code/config files to secret manager</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>vault<span class="w"> </span>kv<span class="w"> </span>put<span class="w"> </span>secret/mlflow/auth<span class="w"> </span><span class="nv">token</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$EXISTING_TOKEN</span><span class="s2">&quot;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Remove Hardcoded Values</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1"># Before</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="s2">&quot;https://token:password@mlflow.company.com&quot;</span><span class="p">)</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="c1"># After (plugin handles authentication)</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="n">mlflow</span><span class="o">.</span><span class="n">set_tracking_uri</span><span class="p">(</span><span class="s2">&quot;https://mlflow.company.com&quot;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Configure Plugin</strong>:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_SECRETS_AUTH_ENABLE</span><span class="o">=</span><span class="s2">&quot;vault&quot;</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">VAULT_ADDR</span><span class="o">=</span><span class="s2">&quot;https://vault.company.com&quot;</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">MLFLOW_VAULT_SECRET_PATH</span><span class="o">=</span><span class="s2">&quot;secret/mlflow/auth&quot;</span>
</code></pre></div></p>
</li>
</ol>
<h3 id="can-i-use-this-with-existing-mlflow-authentication">Can I use this with existing MLflow authentication?<a class="headerlink" href="#can-i-use-this-with-existing-mlflow-authentication" title="Permanent link">&para;</a></h3>
<p>The plugin works alongside MLflow's existing authentication mechanisms:</p>
<ol>
<li><strong>Plugin First</strong>: If enabled and configured, plugin provides authentication</li>
<li><strong>Fallback</strong>: If plugin disabled/fails, MLflow uses its default authentication</li>
<li><strong>Override</strong>: Plugin authentication takes precedence when available</li>
</ol>
<h3 id="how-do-i-test-before-full-deployment">How do I test before full deployment?<a class="headerlink" href="#how-do-i-test-before-full-deployment" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Staging Environment</strong>: Test in staging with same configuration</li>
<li><strong>Gradual Rollout</strong>: Enable for subset of applications first</li>
<li><strong>A/B Testing</strong>: Run with and without plugin in parallel</li>
<li><strong>Dry Run Testing</strong>: Use CLI dry-run mode extensively</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1"># Test without affecting production</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>mlflow-secrets-auth<span class="w"> </span>doctor<span class="w"> </span>--dry-run<span class="w"> </span>https://staging.mlflow.company.com
</code></pre></div>
<h2 id="compatibility">Compatibility<a class="headerlink" href="#compatibility" title="Permanent link">&para;</a></h2>
<h3 id="what-mlflow-versions-are-supported">What MLflow versions are supported?<a class="headerlink" href="#what-mlflow-versions-are-supported" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Minimum</strong>: MLflow 2.20.4</li>
<li><strong>Recommended</strong>: Latest stable MLflow version</li>
<li><strong>Compatibility</strong>: Tested with MLflow 2.x series</li>
</ul>
<h3 id="what-python-versions-are-supported">What Python versions are supported?<a class="headerlink" href="#what-python-versions-are-supported" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Supported</strong>: Python 3.9, 3.10, 3.11, 3.12</li>
<li><strong>Recommended</strong>: Python 3.11 or higher</li>
<li><strong>End of Life</strong>: Python versions past EOL not supported</li>
</ul>
<h3 id="are-there-any-known-conflicts">Are there any known conflicts?<a class="headerlink" href="#are-there-any-known-conflicts" title="Permanent link">&para;</a></h3>
<p>Generally compatible with:
- MLflow tracking, models, projects
- Other MLflow plugins
- Common Python web frameworks
- Cloud deployment platforms</p>
<p>Potential conflicts:
- Custom authentication plugins (first loaded wins)
- Applications that modify <code>requests.Session</code> globally
- Very old versions of provider SDKs</p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><a href="../getting-started/">Getting Started</a></strong> - Quick start guide</li>
<li><strong><a href="../configuration/">Configuration Reference</a></strong> - Complete configuration options</li>
<li><strong><a href="../troubleshooting/">Troubleshooting Guide</a></strong> - Detailed troubleshooting</li>
<li><strong><a href="providers/">Provider Documentation</a></strong> - Provider-specific information</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../troubleshooting/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Troubleshooting">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Troubleshooting
              </div>
            </div>
          </a>
        
        
          
          <a href="../reference/mlflow_secrets_auth/__init__/" class="md-footer__link md-footer__link--next" aria-label="Next: mlflow_secrets_auth">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                mlflow_secrets_auth
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://pypi.org/project/mlflow-secrets-auth/" target="_blank" rel="noopener" title="PyPI" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/hugodscarvalho/mlflow-secrets-auth/releases" target="_blank" rel="noopener" title="Releases" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M0 112c0-41.5 31.6-75.6 72-79.6V32h280c53 0 96 43 96 96v176H272c-39.8 0-72 32.2-72 72v60c0 24.3-19.7 44-44 44s-44-19.7-44-44V208H48c-26.5 0-48-21.5-48-48zm236.8 368c7.1-13.1 11.2-28.1 11.2-44v-60c0-13.3 10.7-24 24-24h248c13.3 0 24 10.7 24 24v24c0 44.2-35.8 80-80 80zM80 80c-17.7 0-32 14.3-32 32v48h64v-48c0-17.7-14.3-32-32-32"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/hugodscarvalho/mlflow-secrets-auth" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.path", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>